---
sort: 2
---

# RST写作技巧

## 基本语法

- 星号: *text* 是强调 (斜体)
- 双星号: **text** 重点强调 (加粗)
- 反引号: ``text`` 代码样式

## Latex公式

## 超链接

## 表格

### CSV表格

#### 引入CSV文件

语法示例：

```

 .. csv-table:: MLU CSV
 :file: ./operator.csv
 :header-rows: 1
 :widths: 10 20 30

```
```note
- 采用引入文件的方式，最好设置“widths”参数，否则当一行内容过长时表格的宽度可能超出页面的显示。
- 引入CSV文件时，最好采用相对目录。
- 因为CSV文件有后期维护的问题，因此不建议采用文件的方式，尽量直接在rst文件里写。
```

参数说明可参考 <https://docutils.sourceforge.io/docs/ref/rst/directives.html#csv-table>

#### 在rst文件中直接写CSV表格

语法示例：

```

.. csv-table:: MLU介绍
   :header: "序号","算子","类型"
   :widths: 10 20 30
 
   "1","Abs","int,float16"
   "2","Acos","int,float32"

```

参数说明可参考 <https://docutils.sourceforge.io/docs/ref/rst/directives.html#csv-table>

### 长表格

可以通过table 的class属性实现。示例如下：

```

.. tabularcolumns:: |p{0.2\textwidth}|p{0.2\textwidth}|p{0.4\textwidth}|p{0.4\textwidth}|
.. table:: K2拨码开关123和PCIe模式对应表
   :class: longtable
 
    +-------------+------------+-----------+-------------------------------------+
    |K2 1 value   | K2 2 value | K2 3 value|           PCIE模式                  |
    +=============+============+===========+=====================================+
    |     0       |     0      |     0     | connector0 x2EP, connector1 invalid |
    +-------------+------------+-----------+-------------------------------------+
    |     1       |     0      |     0     | connector0 x2RC, connector1 invalid |
    +-------------+------------+-----------+-------------------------------------+
    |     1       |     1      |     1     | connector0 x2RC, connector1 x2RC    |
    +-------------+------------+-----------+-------------------------------------+
    |     1       |     1      |     0     | connector0 x2RC, connector1 x2EP    |
    +-------------+------------+-----------+-------------------------------------+
	
```

示例中重点修改了：

1. tabularcolumns指令中\|m{0.2\textwidth}\|中的“m”修改为“p”，即\|p{0.2\textwidth}\|，必须修改为“p”否则class参数无效。

2. 添加“calss”参数，将“class”参数的值设置为“longtable”，即“:class: longtable”。

```warning
- 通过class设置为longtable，不能对表格的第一列进行渲染，只能对表格的第一行进行渲染，如果要对第一列进行渲染，还是需要采用其他方式设置。

- table添加了class、widths或者name参数后，表格的左边框必须和参数的最左边“:”对齐，否则表格会有编译异常。
```

### 调整表格caption宽度

当表格的表头过长时，会自动换行，表格的表头明显没有铺满整个表格的宽度，实际是没必要换行。以下方法通过调整表格表头的宽度，解决以上问题。

在conf.py配置文件的latex_elements变量的“preamble”字段中增加“\\LTcapwidth=500pt”的配置，修改后如下所示：


```

'preamble': '''
\\addto\\captionsenglish{\\renewcommand{\\chaptername}{}}
\\LTcapwidth=500pt

```

### 调整表格指定行高

调整表格指定行的行高，主要解决如下截图所示的问题。

![](./table.png)


## 图片

## 源代码

## 替换


```note
## This is a note

Markdown is supported, Text can be **bold**, _italic_, or ~~strikethrough~~. [Links](https://github.com) should be blue with no underlines

`inline code`

[`inline code inside link`](./)
```



```note
This is note3
```

```tip
It’s bigger than a bread box.
```

```tip
It’s tip 2
```



```danger
Mad scientist at work!
```
